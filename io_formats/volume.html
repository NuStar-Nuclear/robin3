

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2. Volumes Result – volume.yaml &mdash; ROBIN3 Documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  

  
  

  
    <link rel="canonical" href="/robin3/io_formats/volume.html" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Depletion Specification – depletion.xml" href="depletion.html" />
    <link rel="prev" title="1. openmc_compatible dict" href="openmc.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ROBIN3
          

          
            
            <img src="../_static/robin3_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usersguide/index.html">User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods/index.html">Theory and Methodology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pythonapi/index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../command.html">Run in Command Line</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">File Format Specifications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#robin3-files">ROBIN3 Files</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#openmc-compatibility-module-files">OpenMC Compatibility Module Files</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="openmc.html">1. <code class="docutils literal notranslate"><span class="pre">openmc_compatible</span></code> dict</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">2. Volumes Result – volume.yaml</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cell-volumes-dictionary">2.1. <code class="docutils literal notranslate"><span class="pre">&lt;cell_volumes&gt;</span></code> Dictionary</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tag-volumes-dictionary">2.2. <code class="docutils literal notranslate"><span class="pre">&lt;tag_volumes&gt;</span></code> Dictionary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="depletion.html">3. Depletion Specification – depletion.xml</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License Agreement</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROBIN3</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">File Format Specifications</a> &raquo;</li>
        
      <li><span class="section-number">2. </span>Volumes Result – volume.yaml</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/io_formats/volume.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="volumes-result-volume-yaml">
<span id="io-openmc-volume"></span><h1><span class="section-number">2. </span>Volumes Result – volume.yaml<a class="headerlink" href="#volumes-result-volume-yaml" title="Permalink to this headline">¶</a></h1>
<p>ROBIN3 simulation results contain pin power distribution and neutron flux spectrum which require
volumes to calculate. OpenMC model created by <code class="xref py py-mod docutils literal notranslate"><span class="pre">robin3.openmc_compatible</span></code> module will contain
related tallies. Addtional volumes info are required to convert the scores tallied to pin power
and flux that users are commonly interested in.
If user chooses to use ROBIN3 to calculate volumes when converting the model
(by calling <a class="reference internal" href="../pythonapi/generated/robin3.openmc_compatible.get_model.html#robin3.openmc_compatible.get_model" title="robin3.openmc_compatible.get_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">robin3.openmc_compatible.get_model()</span></code></a> or <a class="reference internal" href="../pythonapi/generated/robin3.openmc_compatible.robin3_to_openmc.html#robin3.openmc_compatible.robin3_to_openmc" title="robin3.openmc_compatible.robin3_to_openmc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">robin3.openmc_compatible.robin3_to_openmc()</span></code></a> with
<code class="docutils literal notranslate"><span class="pre">r3_vol</span></code> argument assigned <code class="docutils literal notranslate"><span class="pre">True</span></code>),
this <code class="docutils literal notranslate"><span class="pre">volume.yaml</span></code> file will be generated and be read during post process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, ROBIN3 calculates volumes before preprocess of geometry. Therefore,
the volumes in the result file may not correspond to the real volume value of the preprocessed model.
User can manually calculate and then modified volumes in this file.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If user chooses OpenMC instead of ROBIN3 to calculate volumes, <a class="reference external" href="https://docs.openmc.org/en/stable/io_formats/volume.html#io-volume" title="(in OpenMC v0.12)"><span class="xref std std-ref">volume.h5</span></a> will be generated
instead of <code class="docutils literal notranslate"><span class="pre">volume.yaml</span></code> introduced in this page. However, the process of volume calculation
can be very long depending on the ratio of the smallest cell volume to the total volume of the model.</p>
</div>
<div class="section" id="cell-volumes-dictionary">
<h2><span class="section-number">2.1. </span><code class="docutils literal notranslate"><span class="pre">&lt;cell_volumes&gt;</span></code> Dictionary<a class="headerlink" href="#cell-volumes-dictionary" title="Permalink to this headline">¶</a></h2>
<p>The value of <code class="docutils literal notranslate"><span class="pre">&lt;cell_volumes&gt;</span></code> is an associative array containing items with cell id as key and cell’s
volume as value. All the cells presented are those which contains fissionable materials.
The volumes in the array are used to calculate pin power density in post process.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># A dictionary of fuel cell volumes</span>
<span class="n">cell_volumes</span><span class="p">:</span>
  <span class="mi">22</span><span class="p">:</span> <span class="mf">6.73794</span>
  <span class="mi">25</span><span class="p">:</span> <span class="mf">9.156839999999999</span>
  <span class="mi">28</span><span class="p">:</span> <span class="mf">11.57552</span>
  <span class="mi">31</span><span class="p">:</span> <span class="mf">13.994419999999998</span>
  <span class="mi">34</span><span class="p">:</span> <span class="mf">16.4131</span>
  <span class="mi">37</span><span class="p">:</span> <span class="mf">18.832</span>
  <span class="mi">378</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="mi">381</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="mi">384</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="mi">387</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="mi">390</span><span class="p">:</span> <span class="mf">0.50891</span>
  <span class="mi">393</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="mi">396</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="mi">399</span><span class="p">:</span> <span class="mf">0.50891</span>
  <span class="mi">402</span><span class="p">:</span> <span class="mf">0.50891</span>
  <span class="mi">405</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="mi">408</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="mi">411</span><span class="p">:</span> <span class="mf">0.52676</span>
</pre></div>
</div>
</div>
<div class="section" id="tag-volumes-dictionary">
<h2><span class="section-number">2.2. </span><code class="docutils literal notranslate"><span class="pre">&lt;tag_volumes&gt;</span></code> Dictionary<a class="headerlink" href="#tag-volumes-dictionary" title="Permalink to this headline">¶</a></h2>
<p>The value of <code class="docutils literal notranslate"><span class="pre">&lt;tag_volumes&gt;</span></code> is an associative array containing items with tag
name as key and tagged cell’s volume as value. All the cells presented are those
corresponding to tagged <a class="reference internal" href="input.html#region"><span class="std std-ref">region</span></a> in ROBIN3 model.
The volumes in the array are used to normalize flux in post process.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># A dictionary of tagged cell volumes</span>
<span class="n">tag_volumes</span><span class="p">:</span>
  <span class="n">fuel_1</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="n">fuel_10</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="n">fuel_11</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="n">fuel_12</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="n">fuel_2</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="n">fuel_3</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="n">fuel_4</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="n">fuel_5</span><span class="p">:</span> <span class="mf">0.50891</span>
  <span class="n">fuel_6</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="n">fuel_7</span><span class="p">:</span> <span class="mf">0.52676</span>
  <span class="n">fuel_8</span><span class="p">:</span> <span class="mf">0.50891</span>
  <span class="n">fuel_9</span><span class="p">:</span> <span class="mf">0.50891</span>
  <span class="n">loop_1</span><span class="p">:</span> <span class="mf">254.44346</span>
  <span class="n">loop_2</span><span class="p">:</span> <span class="mf">254.44346</span>
  <span class="n">loop_3</span><span class="p">:</span> <span class="mf">78.53193</span>
  <span class="n">loop_4</span><span class="p">:</span> <span class="mf">78.5319</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="depletion.html" class="btn btn-neutral float-right" title="3. Depletion Specification – depletion.xml" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="openmc.html" class="btn btn-neutral float-left" title="1. openmc_compatible dict" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020-, ShangHai NuStar Nuclear Power Technology Co., Ltd..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30411614-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


</body>
</html>